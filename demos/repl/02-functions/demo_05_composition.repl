// Function composition patterns
fun compose(f, g) {
    |x| g(f(x))
}

fun add_one(x) {
    x + 1
}

fun double(x) {
    x * 2
}

let add_then_double = compose(add_one, double)
add_then_double(5)

let double_then_add = compose(double, add_one)
double_then_add(5)

// Multiple composition
fun triple(x) {
    x * 3
}

let complex = compose(compose(add_one, double), triple)
complex(5)